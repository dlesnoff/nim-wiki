<!DOCTYPE html>
<html lang="en-us">
<head>
  <title>nimwiki/Whitespace_FAQ.nim</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22>üê≥</text></svg>">
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <link rel='stylesheet' href='https://unpkg.com/normalize.css'>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/kognise/water.css@latest/dist/light.min.css">
  <link rel='stylesheet' href='https://cdn.jsdelivr.net/gh/pietroppeter/nimib/assets/atom-one-light.css'>
  <style>
.nb-box {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.nb-small {
  font-size: 0.8rem;
}
button.nb-small {
  float: right;
  padding: 2px;
  padding-right: 5px;
  padding-left: 5px;
}
section#source {
  display:none
}

.nb-output {
  line-height: 1.15;
}
</style>
  
</head>
<body>
<header>
<div class="nb-box">
  <span><a href="..">üè°</a></span>
  <span><code>nimwiki/Whitespace_FAQ.nim</code></span>
  <span><a href="https://github.com/dlesnoff/nim-wiki"><svg aria-hidden="true" width="1.2em" height="1.2em" style="vertical-align: middle;" preserveAspectRatio="xMidYMid meet" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59c.4.07.55-.17.55-.38c0-.19-.01-.82-.01-1.49c-2.01.37-2.53-.49-2.69-.94c-.09-.23-.48-.94-.82-1.13c-.28-.15-.68-.52-.01-.53c.63-.01 1.08.58 1.23.82c.72 1.21 1.87.87 2.33.66c.07-.52.28-.87.51-1.07c-1.78-.2-3.64-.89-3.64-3.95c0-.87.31-1.59.82-2.15c-.08-.2-.36-1.02.08-2.12c0 0 .67-.21 2.2.82c.64-.18 1.32-.27 2-.27c.68 0 1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82c.44 1.1.16 1.92.08 2.12c.51.56.82 1.27.82 2.15c0 3.07-1.87 3.75-3.65 3.95c.29.25.54.73.54 1.48c0 1.07-.01 1.93-.01 2.2c0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z" fill="#000"></path></svg></a></span>
</div>
<hr>
</header><main>
<p><strong>WIP</strong></p>
<hr />
<h1>Whitespace</h1>
<h2>New Lines</h2>
<p>Most statements have only one line, and are followed by a line break. With languages whose lines are delimited by semicolons, the programmer pays a tax every line, just so that multiline statements can be used. But as presented below, Nim lets you use multiline statements most of the time w/o requiring this semicolon tax.</p>
<p>Really long lines that must be broken are bad style, but often unavoidable. In those cases, Nim provides many implicit continuation options. The rule of thumb is that after a <code>,</code>, unary or binary operators and <code>(</code> <code>[</code> <code>{</code> you can safely put a line break and continue the statement in the following line. If none of those things occurs naturally, you can always add a parenthesis. Two characters in those exceedingly rare situations, instead of one character every line.</p>
<p>After a continuation, the code can be positioned quite freely. The only rule is that the continuing line must be indented at least one level above the first line.</p>
<p>For example, all the following Nim code is valid:</p>
<pre><code class="language-nim">
someReallyLongProc(withMany, commands,
                   that, may, be, broken,
                   in many, lines)

var c = long().method().chains().
  ofFunctionsWithlooongNames()

var x = 2 +
        2

const DeBruijnNumbersTable: array[32, int8] =
  [
    0'i8, 1, 28, 2, 29, 14, 24, 3, 30, 22, 20, 15, 25, 17, 4, 8,
    31, 27, 13, 23, 21, 19, 16, 7, 26, 12, 18, 6, 11, 5, 10, 9
  ]

</code></pre>
<p>Nim also has semicolons. They are redundant as simple statement terminators, but useful if you want to fit multiple statements in one line. Statement lists can also be used  in some places where you would need to define a block using indentation</p>
<h2>Indentation</h2>
<p>In 'curly braces languages', indentation works like comments. You will put it to make the code understandable, but its meaning is not enforced by the compiler/interpreter and thus can get out of sync with the real meaning, defined by the braces, or lack of it. This can lead to dangerously ambiguous code (for humans to understand, of course). For example (from <a href="http://www.secnetix.de/~olli/Python/block_indentation.hawk">&quot;Python: Myths about Indentation&quot;</a>):</p>
<pre><code class="language-C">if (some condition)
        if (another condition)
                do_something(fancy);
else
        this_sucks(badluck);
</code></pre>
<p>Either the indentation is wrong, or the program is buggy, because an &quot;else&quot; always applies to the nearest &quot;if&quot;, unless you use braces. This is an essential problem in C and C++. Of course, you could resort to always use braces, no matter what, but that's tiresome and bloats the source code, and it doesn't prevent you from accidentally obfuscating the code by still having the wrong indentation. (And that's just a very simple example. In practice, C code can be much more complex.)</p>
<h3>Tabs vs Spaces</h3>
<p>This is a non-issue in Nim, as only spaces are accepted as an indentation character --- a syntax error will be thrown if the compiler detects tabs being used for indentation (though this can be worked around by using a <a href="https://nim-lang.org/docs/filters.html">syntax filter</a>). However, languages that allow both of them to be mixed are dangerous. Some languages, like python 2 by default (fixed on python 3), tries to convert a tab to a certain number of spaces, and thus an indentation error introduced by mixing tabs and spaces will only be detected as a run-time failure. Other languages, that ignores any type of indentation, will generate code that behaves differently than it looks at first sight when using an editor with different tab-stops configuration. This can hide/introduce bugs, like in the previous C/C++ example.</p>
<h2>Deep nesting</h2>
<p>Many editors have an option to visibly show indentation markers, helping to visualize more easily the different levels, but code should not be indented too deeply since it is frequently a sign that parts should be refactored into smaller functions.</p>
<h2>Strong spaces</h2>
<p>A experimental feature, currently only available through a source code filter, is strong spaces. The relative spacing between operators and operands overrides their standard precedence, like adding parenthesis would.</p>
<p>Only 0, 1, 2, 4 or 8 spaces are allowed and the compiler enforces that infix operators have the same amount of spaces before and after them. This rules does not apply when a newline follows after the operator, then only the preceding spaces are considered.</p>
<h1>Sharing code</h1>
<p>Use dedicated source code paste sites and tags, that usually also gives you syntax highlighting and maybe even versioning and forking support. Having to read code on the internet without syntax highlighting and stripped indentation sucks. https://gist.github.com/ is ideal for this.</p>
</main>
<footer>
<hr>
<div class="nb-box">
  <span><span class="nb-small">made with <a href="https://pietroppeter.github.io/nimib/">nimib üê≥</a></span></span>
  <span></span>
  <span><button class="nb-small" id="show" onclick="toggleSourceDisplay()">Show Source</button></span>
</div>
</footer>
<section id="source">
<pre><code class="nim hljs"><span class="hljs-keyword">import</span> strformat, strutils
<span class="hljs-keyword">import</span> nimib
<span class="hljs-keyword">import</span> nimoji

nbInit

nbText:<span class="hljs-string">&quot;&quot;&quot;
**WIP**

-----------------

# Whitespace
## New Lines

Most statements have only one line, and are followed by a line break. With languages whose lines are delimited by semicolons, the programmer pays a tax every line, just so that multiline statements can be used. But as presented below, Nim lets you use multiline statements most of the time w/o requiring this semicolon tax.

Really long lines that must be broken are bad style, but often unavoidable. In those cases, Nim provides many implicit continuation options. The rule of thumb is that after a `,`, unary or binary operators and `(` `[` `{` you can safely put a line break and continue the statement in the following line. If none of those things occurs naturally, you can always add a parenthesis. Two characters in those exceedingly rare situations, instead of one character every line.

After a continuation, the code can be positioned quite freely. The only rule is that the continuing line must be indented at least one level above the first line. 

For example, all the following Nim code is valid:

```nim

someReallyLongProc(withMany, commands,
                   that, may, be, broken,
                   in many, lines)

var c = long().method().chains().
  ofFunctionsWithlooongNames()

var x = 2 +
        2

const DeBruijnNumbersTable: array[32, int8] =
  [
    0'i8, 1, 28, 2, 29, 14, 24, 3, 30, 22, 20, 15, 25, 17, 4, 8,
    31, 27, 13, 23, 21, 19, 16, 7, 26, 12, 18, 6, 11, 5, 10, 9
  ]

```

Nim also has semicolons. They are redundant as simple statement terminators, but useful if you want to fit multiple statements in one line. Statement lists can also be used  in some places where you would need to define a block using indentation

## Indentation

In 'curly braces languages', indentation works like comments. You will put it to make the code understandable, but its meaning is not enforced by the compiler/interpreter and thus can get out of sync with the real meaning, defined by the braces, or lack of it. This can lead to dangerously ambiguous code (for humans to understand, of course). For example (from [&quot;Python: Myths about Indentation&quot;](http://www.secnetix.de/~olli/Python/block_indentation.hawk)):

```C
if (some condition)
        if (another condition)
                do_something(fancy);
else
        this_sucks(badluck);
```
Either the indentation is wrong, or the program is buggy, because an &quot;else&quot; always applies to the nearest &quot;if&quot;, unless you use braces. This is an essential problem in C and C++. Of course, you could resort to always use braces, no matter what, but that's tiresome and bloats the source code, and it doesn't prevent you from accidentally obfuscating the code by still having the wrong indentation. (And that's just a very simple example. In practice, C code can be much more complex.)

### Tabs vs Spaces

This is a non-issue in Nim, as only spaces are accepted as an indentation character --- a syntax error will be thrown if the compiler detects tabs being used for indentation (though this can be worked around by using a [syntax filter](https://nim-lang.org/docs/filters.html)). However, languages that allow both of them to be mixed are dangerous. Some languages, like python 2 by default (fixed on python 3), tries to convert a tab to a certain number of spaces, and thus an indentation error introduced by mixing tabs and spaces will only be detected as a run-time failure. Other languages, that ignores any type of indentation, will generate code that behaves differently than it looks at first sight when using an editor with different tab-stops configuration. This can hide/introduce bugs, like in the previous C/C++ example. 

## Deep nesting

Many editors have an option to visibly show indentation markers, helping to visualize more easily the different levels, but code should not be indented too deeply since it is frequently a sign that parts should be refactored into smaller functions.

## Strong spaces

A experimental feature, currently only available through a source code filter, is strong spaces. The relative spacing between operators and operands overrides their standard precedence, like adding parenthesis would.

Only 0, 1, 2, 4 or 8 spaces are allowed and the compiler enforces that infix operators have the same amount of spaces before and after them. This rules does not apply when a newline follows after the operator, then only the preceding spaces are considered.

# Sharing code

Use dedicated source code paste sites and tags, that usually also gives you syntax highlighting and maybe even versioning and forking support. Having to read code on the internet without syntax highlighting and stripped indentation sucks. https://gist.github.com/ is ideal for this.
&quot;&quot;&quot;</span>
nbSave()
</code></pre>
</section><script>
function toggleSourceDisplay() {
  var btn = document.getElementById("show")
  var source = document.getElementById("source");
  if (btn.innerHTML=="Show Source") {
    btn.innerHTML = "Hide Source";
    source.style.display = "block";
  } else {
    btn.innerHTML = "Show Source";
    source.style.display = "none";
  }
}
</script></body>
</html>